<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details - Big Willy's Fabric Dye Emporium</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3a0068;
            --primary-light: #590d8c;
            --primary-dark: #2a0048;
            --secondary: #f8f8fc;
            --accent: #b388ff;
            --accent-light: #d4b3ff;
            --text-dark: #333;
            --text-light: #fff;
            --text-muted: #666;
            --spacing: 1rem;
            --border-radius: 10px;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --max-width: 1200px;
            --section-gap: 2.5rem;
            --yellow: #ffc107;
            --green: #4caf50;
            --orange: #ff9800;
            --blue: #2196f3;
            --purple: #9c27b0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background-color: var(--secondary);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .container {
            width: 100%;
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--spacing);
        }
        
        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--text-light);
            padding: 1.25rem var(--spacing);
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1.5rem;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            position: relative;
            background-color: transparent;
            box-shadow: 0 0 20px rgba(179, 136, 255, 0.3);
            border: 2px solid var(--accent);
            transform: translateZ(0);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .logo:hover {
            transform: scale(1.05) translateZ(0);
            box-shadow: 0 0 25px rgba(179, 136, 255, 0.5);
        }
        
        .logo img {
            width: 120%;
            height: 120%;
            object-fit: cover;
            position: absolute;
            top: -10%;
            left: -10%;
            transform: scale(1.2);
        }
        
        .brand-name {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            text-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
            background: linear-gradient(to right, var(--accent), var(--text-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        /* Navigation */
        .main-nav {
            margin-left: auto;
        }
        
        .nav-list {
            list-style: none;
            display: flex;
            gap: 1.5rem;
        }
        
        .nav-list li a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            position: relative;
            text-align: center;
            display: inline-block;
            white-space: nowrap;
        }
        
        .nav-list li {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .nav-list a.two-line {
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.2;
            padding: 0.5rem 0.75rem;
        }
        
        .nav-list li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: var(--accent);
            transition: var(--transition);
            transform: translateX(-50%);
        }
        
        .nav-list li a:hover::after,
        .nav-list li a.active::after {
            width: 80%;
        }
        
        .nav-list li a:hover,
        .nav-list li a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        /* Mobile menu toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Main Content Styles */
        main {
            padding: 3rem 0;
            flex: 1;
        }
        
        /* Breadcrumbs */
        .breadcrumbs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .breadcrumbs a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .breadcrumbs a:hover {
            color: var(--primary-light);
            text-decoration: underline;
        }
        
        .breadcrumbs .separator {
            color: var(--text-muted);
        }
        
        /* Product Details */
        .product {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: var(--section-gap);
            position: relative;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            padding: 2.5rem;
            border: 1px solid rgba(0, 0, 0, 0.05);
            max-width: 100%;
        }
        
        .product::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--primary), var(--accent), var(--primary));
            z-index: -1;
            border-radius: calc(var(--border-radius) + 2px);
            opacity: 0.5;
            pointer-events: none;
        }
        
        .product-image {
            aspect-ratio: 1;
            background-color: #fff;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-dark);
            font-weight: bold;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .product-image:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px -10px rgba(0, 0, 0, 0.15);
        }
        
        .product-image img {
            max-width: 100%;
            max-height: 100%;
            border-radius: var(--border-radius);
            transition: transform 0.5s ease;
        }
        
        .product-image:hover img {
            transform: scale(1.03);
        }
        
        .product-details {
            display: flex;
            flex-direction: column;
        }
        
        .product-details h1 {
            color: var(--primary);
            margin-bottom: 0.75rem;
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.2;
            position: relative;
            display: inline-block;
            border-bottom: 4px solid var(--accent);
            padding-bottom: 10px;
            background: linear-gradient(to right, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .product-description {
            margin: 1.5rem 0;
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--text-muted);
            border-left: 3px solid var(--accent);
            padding-left: 1rem;
            background-color: rgba(179, 136, 255, 0.05);
            padding: 1.5rem;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .pricing-section {
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }
        
        .pricing-section:hover {
            transform: translateY(-5px);
        }
        
        .pricing-section h2 {
            margin-bottom: 1.5rem;
            font-weight: 600;
            font-size: 1.4rem;
            color: var(--primary);
            position: relative;
            display: inline-block;
            border-bottom: 3px solid var(--accent);
            padding-bottom: 8px;
        }
        
        .size-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 0.7rem;
            margin: 1.5rem 0;
        }
        
        .size-option {
            padding: 0.75rem 0.5rem;
            border: 2px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            background-color: #fff;
            position: relative;
            overflow: hidden;
            text-align: center;
        }
        
        .size-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }
        
        .size-option:hover {
            border-color: var(--primary-light);
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .size-option:hover::before {
            left: 100%;
        }
        
        .size-option.selected {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--text-light);
            border-color: var(--primary);
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            font-weight: 600;
        }
        
        .size-option.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }
        
        .price-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 1.5rem 0;
            text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            position: relative;
            background-color: rgba(179, 136, 255, 0.08);
            padding: 1rem;
            border-radius: var(--border-radius);
            justify-content: center;
        }
        
        .price-display::before {
            content: '';
            width: 10px;
            height: 10px;
            background-color: var(--accent);
            border-radius: 50%;
            margin-right: 10px;
            box-shadow: 0 0 10px var(--accent);
        }
        
        .checkout-section {
            margin-top: 2rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 1.5rem;
        }
        
        .checkout-section h2 {
            border-bottom: none;
            margin-bottom: 1rem;
        }
        
        .payment-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .payment-btn {
            padding: 1rem 1.5rem;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .payment-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: 0.6s;
            z-index: -1;
        }
        
        .payment-btn::after {
            content: '→';
            position: absolute;
            right: 1.5rem;
            opacity: 0;
            transition: var(--transition);
        }
        
        .payment-btn:hover::before {
            transform: translateX(100%);
        }
        
        .payment-btn:hover::after {
            opacity: 1;
        }
        
        .google-pay {
            background-color: #000;
            color: #fff;
        }
        
        .cash-app {
            background-color: #00D632;
            color: #fff;
        }
        
        .buy-now {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--text-light);
            width: 100%;
            font-size: 1.2rem;
            letter-spacing: 0.5px;
        }
        
        .payment-note {
            text-align: center;
            margin-top: 0.75rem;
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .payment-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            padding-right: 2rem;
        }
        
        .payment-btn:active {
            transform: translateY(-1px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
        }
        
        .payment-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }
        
        .stock-status {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }
        
        .in-stock {
            background-color: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
            border: 1px solid rgba(76, 175, 80, 0.2);
        }
        
        .out-of-stock {
            background-color: rgba(244, 67, 54, 0.1);
            color: #F44336;
            border: 1px solid rgba(244, 67, 54, 0.2);
        }
        
        /* Related products */
        .related-products {
            margin-top: 3rem;
        }
        
        .related-products h2 {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.8rem;
            position: relative;
            display: inline-block;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }
        
        .related-products h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 2px;
        }
        
        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
        }
        
        .related-card {
            background-color: #fff;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .related-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .related-image {
            width: 100%;
            height: 160px;
            overflow: hidden;
            position: relative;
        }
        
        .related-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .related-card:hover .related-image img {
            transform: scale(1.05);
        }
        
        .related-content {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        
        .related-title {
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
            font-weight: 600;
        }
        
        .related-price {
            font-weight: 700;
            color: var(--primary);
            font-size: 1rem;
            margin-top: auto;
        }
        
        .related-badge {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.25rem 0.5rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            font-size: 0.7rem;
            z-index: 2;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--text-light);
        }
        
        /* Footer Styles */
        footer {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--text-light);
            padding: 1.5rem 0;
            text-align: center;
            margin-top: auto;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary));
        }
        
        .copyright {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Loading Animation */
        @keyframes pulse {
            0% { transform: scale(0.95); opacity: 0.7; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0.95); opacity: 0.7; }
        }
        
        .loading-indicator {
            display: none;
            animation: pulse 1.5s infinite ease-in-out;
        }
        
        /* Scroll Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            :root {
                --section-gap: 2rem;
            }
            
            .brand-name {
                font-size: 1.6rem;
            }
            
            .product-details h1 {
                font-size: 2.2rem;
            }
            
            .product {
                padding: 2rem;
                gap: 2.5rem;
            }
            
            .related-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
            
            .nav-list {
                gap: 0.75rem;
            }
            
            .nav-list li a {
                padding: 0.5rem 0.75rem;
                font-size: 0.95rem;
            }
        }
        
        @media (max-width: 768px) {
            :root {
                --section-gap: 1.5rem;
            }
            
            .header-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .product {
                grid-template-columns: 1fr;
                padding: 1.5rem;
                gap: 2rem;
            }
            
            .product-image {
                max-height: 350px;
            }
            
            .product-details h1 {
                text-align: center;
                display: block;
                margin-left: auto;
                margin-right: auto;
            }
            
            .payment-options {
                grid-template-columns: 1fr;
            }
            
            .payment-btn {
                width: 100%;
            }
            
            .size-options {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
            
            .size-option {
                padding: 0.7rem 0.5rem;
                font-size: 0.9rem;
            }
            
            .price-display {
                justify-content: center;
            }
            
            .product-description {
                text-align: center;
                border-left: none;
                border-top: 3px solid var(--accent);
                border-radius: var(--border-radius);
                padding: 1.5rem 1rem;
            }
            
            .related-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 576px) {
            :root {
                --spacing: 0.75rem;
                --section-gap: 1.25rem;
            }
            
            .nav-list {
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background-color: var(--primary);
                padding: 1rem;
                box-shadow: var(--shadow);
                display: none;
                z-index: 10;
            }
            
            .nav-list.active {
                display: flex;
            }
            
            .nav-list li {
                width: 100%;
            }
            
            .nav-list li a,
            .nav-list a.two-line {
                display: block;
                text-align: center;
                padding: 0.75rem 1rem;
                line-height: 1.3;
            }
            
            .nav-list a.two-line br {
                display: none;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .logo {
                width: 60px;
                height: 60px;
            }
            
            .brand-name {
                font-size: 1.3rem;
            }
            
            .product {
                padding: 1.25rem;
                gap: 1.5rem;
            }
            
            .product-details h1 {
                font-size: 1.8rem;
            }
            
            .product-description {
                font-size: 0.95rem;
                padding: 1.25rem 1rem;
            }
            
            .pricing-section {
                padding: 1.25rem;
            }
            
            .pricing-section h2 {
                font-size: 1.2rem;
            }
            
            .price-display {
                font-size: 2rem;
            }
            
            .payment-btn {
                font-size: 1rem;
                padding: 0.9rem 1rem;
            }
            
            .size-options {
                gap: 0.5rem;
                justify-content: center;
                grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            }
            
            .size-option {
                padding: 0.6rem 0.5rem;
                font-size: 0.85rem;
                min-width: 60px;
                text-align: center;
            }
            
            .checkout-section h2 {
                font-size: 1.1rem;
            }
            
            .related-grid {
                grid-template-columns: 1fr;
            }
            
            .related-image {
                height: 180px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="header-left">
                    <a href="index.html">
                        <div class="logo"><img src="jesus.png" alt="Big Willy's Logo"></div>
                    </a>
                    <div class="brand-name">Big Willy's Fabric Dye Emporium</div>
                </div>
                <nav class="main-nav">
                    <button class="mobile-menu-toggle">☰</button>
                    <ul class="nav-list">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="product.html?product=purple-jesus" class="two-line">Purple<br>Jesus</a></li>
                        <li><a href="product.html?product=yellow-buddha" class="two-line">Yellow<br>Buddha</a></li>
                        <li><a href="product.html?product=green-tarzan" class="two-line">Green<br>Tarzan</a></li>
                        <li><a href="product.html?product=orange-thoth" class="two-line">Orange<br>Thoth</a></li>
                        <li><a href="product.html?product=blue-osiris" class="two-line">Blue<br>Osiris</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    
    <main>
        <div class="container">
            <div class="breadcrumbs">
                <a href="index.html">Home</a>
                <span class="separator">›</span>
                <span id="product-breadcrumb">Product Details</span>
            </div>
            
            <section class="product fade-in">
                <div class="product-image">
                    <img id="product-img" src="purple.jpg" alt="Fabric Dye">
                </div>
                
                <div class="product-details">
                    <h1 id="product-title">Fabric Dye</h1>
                    <div id="stock-status" class="stock-status in-stock">In Stock</div>
                    <p id="product-description" class="product-description">
                        Loading product description...
                    </p>
                    
                    <div class="pricing-section fade-in">
                        <h2>Choose Your Size</h2>
                        <div class="size-options">
                            <div class="size-option" data-size="300g" data-price="175">300g</div>
                            <div class="size-option" data-size="500g" data-price="270">500g</div>
                            <div class="size-option" data-size="1kg" data-price="495">1kg</div>
                            <div class="size-option" data-size="2kg" data-price="890">2kg</div>
                            <div class="size-option" data-size="3kg" data-price="1250">3kg</div>
                            <div class="size-option" data-size="5kg" data-price="1950">5kg</div>
                            <div class="size-option" data-size="10kg" data-price="3600">10kg</div>
                            <div class="size-option" data-size="20kg" data-price="6500">20kg</div>
                        </div>
                        
                        <div class="price-display">$175.00</div>
                        
                        <div class="checkout-section">
                            <h2>Place Your Order</h2>
                            <div class="payment-options">
                                <button id="buy-now-btn" class="payment-btn buy-now">
                                    Buy Now
                                </button>
                            </div>
                            <p class="payment-note">We accept Google Pay and Cash App</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="related-products fade-in">
                <h2>You May Also Like</h2>
                <div class="related-grid" id="related-products">
                    <!-- Related products will be dynamically added here -->
                </div>
            </section>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p class="copyright">© 2023 Big Willy's Fabric Dye Emporium. All rights reserved.</p>
        </div>
    </footer>
    
    <script>
        // Product data
        const products = {
            'purple-jesus': {
                name: 'Purple Jesus Fabric Dye',
                description: 'Experience the divine vibrancy of our exclusive Purple Jesus Fabric Dye. This proprietary secret recipe delivers an unmatched rich purple hue that stands the test of time. Meticulously crafted for both professional and home use, this premium dye transforms ordinary fabrics into extraordinary works of art.',
                image: 'purple.jpg',
                basePrice: 175,
                inStock: true,
                badge: 'purple'
            },
            'yellow-buddha': {
                name: 'Yellow Buddha Fabric Dye',
                description: 'Achieve enlightened fabrics with our Yellow Buddha Dye. This serene golden yellow brings warmth and wisdom to any textile project. The proprietary formula ensures vibrant, long-lasting color that resists fading, even after multiple washes.',
                image: 'yellow.jpg',
                basePrice: 165,
                inStock: false,
                badge: 'yellow'
            },
            'green-tarzan': {
                name: 'Green Tarzan Fabric Dye',
                description: 'Swing into wild creativity with our Green Tarzan Dye. This jungle-inspired verdant hue brings untamed vibrancy to your fabrics. Perfect for creating stunning natural tones that evoke the lush, primal energy of the rainforest.',
                image: 'green.jpg',
                basePrice: 170,
                inStock: false,
                badge: 'green'
            },
            'orange-thoth': {
                name: 'Orange Thoth Fabric Dye',
                description: 'Channel ancient wisdom with our Orange Thoth Dye. This vibrant orange infuses your textiles with the knowledge and creativity of the Egyptian deity. Our secret formula creates a rich, sunset orange that brings warmth and depth to any fabric.',
                image: 'orange.jpg',
                basePrice: 160,
                inStock: false,
                badge: 'orange'
            },
            'blue-osiris': {
                name: 'Blue Osiris Fabric Dye',
                description: 'Resurrect your fabrics with the celestial Blue Osiris Dye. This rich blue tone captures the eternal power and majesty of the afterlife. The premium formulation ensures deep color penetration and remarkable longevity across all fabric types.',
                image: 'blue.jpg',
                basePrice: 180,
                inStock: false,
                badge: 'blue'
            }
        };
        
        document.addEventListener('DOMContentLoaded', function() {
            // Get product ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('product') || 'purple-jesus';
            
            // Load product data
            loadProductData(productId);
            
            // Load related products
            loadRelatedProducts(productId);
            
            // Set active navigation
            setActiveNavigation(productId);
            
            // Size selection
            const sizeOptions = document.querySelectorAll('.size-option');
            const priceDisplay = document.querySelector('.price-display');
            const googlePayBtn = document.querySelector('.google-pay');
            const cashAppBtn = document.querySelector('.cash-app');
            
            let selectedSize = '300g';
            let selectedPrice = products[productId].basePrice;
            
            // Initialize first option as selected
            if (sizeOptions.length > 0) {
                sizeOptions[0].classList.add('selected');
            }
            
            // Disable payments for out of stock products
            if (!products[productId].inStock) {
                disablePaymentOptions();
                disableSizeOptions();
            }
            
            // Size selection
            sizeOptions.forEach(option => {
                option.addEventListener('click', function(e) {
                    if (this.classList.contains('disabled')) return;
                    
                    // Remove selected class from all options
                    sizeOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Update selected size and price
                    selectedSize = this.dataset.size;
                    selectedPrice = parseFloat(this.dataset.price);
                    
                    // Update price display with animation
                    priceDisplay.style.opacity = 0;
                    setTimeout(() => {
                        priceDisplay.textContent = `$${selectedPrice.toFixed(2)}`;
                        priceDisplay.style.opacity = 1;
                    }, 200);
                });
            });
            
            // Buy Now button event
            const buyNowBtn = document.getElementById('buy-now-btn');
            if (buyNowBtn && !buyNowBtn.classList.contains('disabled')) {
                buyNowBtn.addEventListener('click', function() {
                    // Redirect to order form with product info
                    window.location.href = `order.html?product=${productId}&size=${selectedSize}&price=${selectedPrice.toFixed(2)}`;
                });
            }
            
            // Payment button events
            if (googlePayBtn && !googlePayBtn.classList.contains('disabled')) {
                googlePayBtn.addEventListener('click', function() {
                    processPayment('Google Pay', selectedSize, selectedPrice);
                });
            }
            
            if (cashAppBtn && !cashAppBtn.classList.contains('disabled')) {
                cashAppBtn.addEventListener('click', function() {
                    processPayment('Cash App', selectedSize, selectedPrice);
                });
            }
            
            // Mobile menu toggle
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            const navList = document.querySelector('.nav-list');
            
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    navList.classList.toggle('active');
                });
            }
            
            // Fade-in animations
            setTimeout(function() {
                document.querySelectorAll('.fade-in').forEach(element => {
                    element.classList.add('visible');
                });
            }, 300);
        });
        
        function loadProductData(productId) {
            const product = products[productId] || products['purple-jesus'];
            
            // Update page title
            document.title = `${product.name} - Big Willy's Fabric Dye Emporium`;
            
            // Update product details
            document.getElementById('product-title').textContent = product.name;
            document.getElementById('product-breadcrumb').textContent = product.name;
            document.getElementById('product-description').textContent = product.description;
            document.getElementById('product-img').src = product.image;
            document.getElementById('product-img').alt = product.name;
            
            // Update stock status
            const stockStatus = document.getElementById('stock-status');
            if (product.inStock) {
                stockStatus.textContent = 'In Stock';
                stockStatus.className = 'stock-status in-stock';
            } else {
                stockStatus.textContent = 'Out of Stock';
                stockStatus.className = 'stock-status out-of-stock';
            }
            
            // Update price display
            document.querySelector('.price-display').textContent = `$${product.basePrice.toFixed(2)}`;
        }
        
        function loadRelatedProducts(currentProductId) {
            const relatedContainer = document.getElementById('related-products');
            relatedContainer.innerHTML = '';
            
            // Get other products (exclude current)
            const relatedProducts = Object.entries(products)
                .filter(([id]) => id !== currentProductId)
                .slice(0, 4); // Show up to 4 related products
            
            relatedProducts.forEach(([id, product]) => {
                const card = document.createElement('a');
                card.href = `product.html?product=${id}`;
                card.className = 'related-card';
                
                let stockBadge = '';
                if (!product.inStock) {
                    stockBadge = '<span class="related-badge">Out of Stock</span>';
                }
                
                card.innerHTML = `
                    ${stockBadge}
                    <div class="related-image">
                        <img src="${product.image}" alt="${product.name}">
                    </div>
                    <div class="related-content">
                        <h3 class="related-title">${product.name}</h3>
                        <div class="related-price">From $${product.basePrice.toFixed(2)}</div>
                    </div>
                `;
                
                relatedContainer.appendChild(card);
            });
        }
        
        function setActiveNavigation(productId) {
            document.querySelectorAll('.nav-list a').forEach(link => {
                link.classList.remove('active');
                
                if (link.href.includes(`product=${productId}`)) {
                    link.classList.add('active');
                }
            });
        }
        
        function disablePaymentOptions() {
            const buyNowBtn = document.getElementById('buy-now-btn');
            if (buyNowBtn) {
                buyNowBtn.classList.add('disabled');
                buyNowBtn.setAttribute('disabled', true);
                
                buyNowBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Sorry, this product is currently out of stock.');
                });
            }
        }
        
        function disableSizeOptions() {
            const sizeOptions = document.querySelectorAll('.size-option');
            sizeOptions.forEach(option => {
                option.classList.add('disabled');
            });
        }
        
        function processPayment(method, size, price) {
            // Add loading indicator
            const btn = document.querySelector(method === 'Google Pay' ? '.google-pay' : '.cash-app');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loading-indicator">Processing...</div>';
            
            // Simulate payment processing
            setTimeout(() => {
                alert(`${method} payment for Fabric Dye (${size}) - $${price.toFixed(2)} requires merchant setup. See instructions.`);
                btn.innerHTML = originalText;
            }, 500);
        }
    </script>
</body>
</html> 